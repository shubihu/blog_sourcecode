---
title: 核酸检测机构地图微信小程序开发
date: 2021-10-20 10:54:20
index_img: /img/article/克洛格.jpg
categories:
    - 微信小程序
tags:
    - 核酸检测
comment: 'valine'
---
## 小程序开发学习
<!-- more -->
##### 开发（玩）背景
最近需要做核酸检测，于是想找下附件的机构，但是找了好多都是列表形式的（心里嘀咕了句怎么连附近都看不了，就想着自己做下），不过最后还是找到了带附近功能的小程序，竟然还是国务院客户端。果然还是国家想的周到。虽然找到了这样的小程序自己已经没必要再造轮子了，但是本着学习（玩）的心态还是想着如何重现一下。
##### 这里也推广下国务院客户端小程序
![](/img/article/wechat/国务院.jpg)
##### 最后也算基本实现了这样的功能，贴两张图做个对比吧。
左边的是国务院客户端，右边是自己做的
![](/img/article/wechat/核酸检测.jpg)
##### 最后再说下开发过程踩过的坑吧
最主要的坑就是标记在地图上的marker（核酸机构）不显示的问题，首先是经纬度，经度（longitude），维度（latitude），最开始标记点一直没显示就是因为自己把经纬度写反了（关键是后台都不报错）导致一直不显示。其次是经纬度的赋值需是数字类型，字符串类型也是不行的。最后就是服务器域名的配置问题，有些域名比如 https://apis.map.qq.com 以及 wx.request 的地址都需要进行配置。当然了还有就是文件路径什么的尽量不要用中文命名，反正奇奇怪怪的bug就是这样产生的。
作为一个前端小白做这个花了一个多星期时间，才勉强做出这样的功能，真是令人头秃啊。
##### 完整代码地址 https://github.com/shubihu/Korok-Mask
扫描下方二维码直达，第一次加载有点慢，，，，没办法，用的免费的服务器，慢应该是正常的。
![](/img/article/wechat/克洛格.jpg)
参考
* https://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-one.html
* https://github.com/zwz888mm/zhang